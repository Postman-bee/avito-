# Тест-кейсы для API микросервиса Авито

## Обзор API

Base URL: https://qa-internship.avito.com

### Доступные endpoints:

1. `POST /api/1/item` - Создание объявления
2. `GET /api/1/item/{id}` - Получение объявления по ID (требует UUID формата)
3. `GET /api/1/{sellerID}/item` - Получение всех объявлений продавца
4. `GET /api/1/item/{sellerID}/statistic` - Получение статистики по объявлению

## Тест-кейсы

### 1. Создание объявления (POST /api/1/item)

#### TC-001: Создание валидного объявления

**Предусловия:** Нет
**Шаги:**

1. Отправить POST запрос на /api/2/item с валидными данными:
   - name: "Тестовое объявление"
   - price: 1000
   - sellerID: уникальный ID в диапазоне 111111-999999
   - description: "Описание тестового объявления"
   - contact: "test@example.com"

**Ожидаемый результат:** 200 OK, ответ содержит созданное объявление с уникальным ID

**Фактический результат:** ❌ **БАГ BUG-001** - API возвращает ошибку "поле likes обязательно" независимо от переданных данных

#### TC-002: Создание объявления без обязательных полей

**Предусловия:** Нет
**Шаги:**

1. Отправить POST запрос на /api/2/item с неполными данными (без name)

**Ожидаемый результат:** 400 Bad Request или соответствующая ошибка валидации

#### TC-003: Создание объявления с некорректным sellerID

**Предусловия:** Нет
**Шаги:**

1. Отправить POST запрос с sellerID вне диапазона (например, 123)

**Ожидаемый результат:** 400 Bad Request или отказ в создании

#### TC-004: Создание объявления с отрицательной ценой

**Предусловия:** Нет
**Шаги:**

1. Отправить POST запрос с price: -100

**Ожидаемый результат:** 400 Bad Request

### 2. Получение объявления по ID (GET /api/1/item/{id})

#### TC-005: Получение существующего объявления

**Предусловия:** Создано объявление с известным ID
**Шаги:**

1. Отправить GET запрос на /api/2/item/{существующий_id}

**Ожидаемый результат:** 200 OK, данные объявления в ответе

#### TC-006: Получение несуществующего объявления

**Предусловия:** Нет
**Шаги:**

1. Отправить GET запрос на /api/2/item/999999999

**Ожидаемый результат:** 404 Not Found

#### TC-007: Получение объявления с невалидным ID

**Предусловия:** Нет
**Шаги:**

1. Отправить GET запрос на /api/2/item/abc

**Ожидаемый результат:** 400 Bad Request или 404 Not Found

### 3. Получение объявлений по sellerID (GET /api/1/{sellerID}/item)

#### TC-008: Получение объявлений существующего продавца

**Предусловия:** Создано хотя бы одно объявление для sellerID
**Шаги:**

1. Отправить GET запрос на /api/1/{sellerID}/item

**Ожидаемый результат:** 200 OK, массив объявлений продавца

#### TC-009: Получение объявлений продавца без объявлений

**Предусловия:** Нет
**Шаги:**

1. Отправить GET запрос для нового sellerID (без объявлений)

**Ожидаемый результат:** 200 OK, пустой массив []

#### TC-010: Получение объявлений с невалидным sellerID

**Предусловия:** Нет
**Шаги:**

1. Отправить GET запрос на /api/1/abc/item

**Ожидаемый результат:** 400 Bad Request или 404 Not Found

### 4. Получение статистики по объявлению

**Примечание:** Статистика возвращается в поле "statistics" при получении объявления по UUID, отдельного endpoint для статистики нет.

#### TC-011: Проверка наличия статистики в ответе объявления

**Предусловия:** Получено объявление по UUID
**Шаги:**

1. Отправить GET запрос на /api/1/item/{uuid}
2. Проверить наличие поля "statistics" в ответе

**Ожидаемый результат:** 200 OK, ответ содержит поле statistics с contacts, likes, viewCount

#### TC-012: Проверка формата данных статистики

**Предусловия:** Получено объявление с статистикой
**Шаги:**

1. Проверить структуру поля statistics

**Ожидаемый результат:** statistics содержит числовые значения для contacts, likes, viewCount

**Примечание:** Конкретные значения статистики не тестируются, так как зависят от реальных данных в системе и не могут быть контролируемы в тестах.
